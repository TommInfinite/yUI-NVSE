<_JAMExists> 1 </_JAMExists>

<rect name="JVO">

	<_JVOExists> 1 </_JVOExists>
	
	<_ScreenWidth> <copy src="screen()" trait="width"/> </_ScreenWidth>
	<_ScreenHeight> <copy src="screen()" trait="height"/> </_ScreenHeight>

	<_JVOInCombat> 0 </_JVOInCombat>

	<_JVOHeightBase> 36 </_JVOHeightBase>
	<_JVOWidthBase> 24 </_JVOWidthBase>

	<_JVOHeight>
		<copy src="me()" trait="_JVOHeightBase"/> 
		<mul src="me()" trait="_JVOScale"/>
	</_JVOHeight>

	<_JVOWidth>
		<copy src="me()" trait="_JVOWidthBase"/> 
		<mul src="me()" trait="_JVOScale"/>
	</_JVOWidth>

	<_JVOAlphaBase> 0 </_JVOAlphaBase>
	<_JVOAlphaCW> 0 </_JVOAlphaCW>
	<_JVOAlpha> 
		<copy src="me()" trait="_JVOAlphaCW"/>
		<onlyifnot src="me()" trait="_JVOAlphaBase"/>
		<add src="me()" trait="_JVOAlphaBase"/>			
	</_JVOAlpha>
	<_JVOAlphaMult> 0.60 </_JVOAlphaMult>

	<_JVORadiusMax> 0.060 </_JVORadiusMax>
	<_JVOTextVisible> 1 </_JVOTextVisible>
	<_JVODistanceVisible> 2 </_JVODistanceVisible>
	<_JVOOffsetWidth> 0.02 </_JVOOffsetWidth>
	<_JVOOffsetHeight> 0.01 </_JVOOffsetHeight>

	<_JVOOffsetMarker> 0 </_JVOOffsetMarker>
	<_JVOOffsetText> 0 </_JVOOffsetText>

	<font>0</font> 
	<_JVOFontBase> 0 </_JVOFontBase>
	<_JVOFont> 
		<copy> 
			<copy> 3 </copy>
			<onlyifnot src="io()" trait="_DUIF3"/>
			<add>
				<copy> 4 </copy>			
				<onlyif src="io()" trait="_DUIF3"/>
			</add>
		</copy>
		<onlyifnot src="me()" trait="_JVOFontBase"/>
		<onlyifnot src="me()" trait="font"/>
		<add src="me()" trait="_JVOFontBase"/>			
		<add src="me()" trait="font"/>
	</_JVOFont>

	<_JVOFontYBase> 0 </_JVOFontYBase>
	<_JVOFontY>
		<copy> 0 </copy>
		<add>
			<copy src="JVO" trait="_JVOFont"/>
			<copy src="globals" trait="_VUI+FontY_"/>
			<onlyif src="globals" trait="_VUI+"/>
		</add>
		<add>
			<copy src="JVO" trait="_JVOFont"/>
			<copy src="io()" trait="_DarNFontY_"/>
			<onlyif src="io()" trait="_DUIF3"/>
		</add>
		<add>
			<copy src="JWH" trait="_JWHFont"/>
			<copy src="io()" trait="_VNLAFontY_"/>
			<onlyifnot>
				<copy src="io()" trait="_DUIF3"/>
				<or src="globals" trait="_VUI+"/>
			</onlyifnot>
		</add>
		<onlyifnot src="me()" trait="_JVOFontYBase"/>
		<add src="me()" trait="_JVOFontYBase"/>
	</_JVOFontY>

	<_ResizeMultiplier> 1 </_ResizeMultiplier>

	<_JVOScale>
		<copy> 1 </copy>
		<mul>
			<copy src="io()" trait="_duiscale_65"/>
			<onlyif src="io()" trait="_DUIF3"/>
			<add>
				<copy> 1 </copy>
				<onlyifnot src="io()" trait="_DUIF3"/>
			</add>
		</mul>
		<mul src="me()" trait="_ResizeMultiplier"/>
	</_JVOScale>

	<_JVOVisible> 1 </_JVOVisible>
	
	<visible>
		<copy> 0 </copy> 
		<or>
			<copy src="ReticleCenter" trait="visible"/>
			<or src="AmmoTypeLabel" trait="visible"/>
			<or src="ActionPoints" trait="visible"/>
			<or src="HitPoints" trait="visible"/>
			<and> 
				<copy src="me()" trait="_JVOVisible"/>
				<eq> 1 </eq>
			</and>
		</or>
		<or>
			<copy src="me()" trait="_JVOVisible"/>
			<eq> -1 </eq>
		</or>
	</visible>

	<red>255</red>
	<green>255</green>
	<blue>255</blue>
</rect>

<template name="JVOContainer">
	<rect name="JVOContainer">
	</rect>
</template>

<template name="JVOMarker">
	<rect name="JVOMarker"> 
		<visible> <copy src="me()" trait="_JVOInDistance"/> </visible>
		<_JVOHostile> 0 </_JVOHostile>
		<_JVOInDistance> 1 </_JVOInDistance>
		<_JVOFont> <copy src="JVO" trait="_JVOFont"/> </_JVOFont>
		<_JVOTextVisible> <copy src="JVO" trait="_JVOTextVisible"/> </_JVOTextVisible>
		<_JVODistanceVisible> <copy src="JVO" trait="_JVODistanceVisible"/> </_JVODistanceVisible>
		<_JVOWidth> <copy src="JVO" trait="_JVOWidth"/> </_JVOWidth>
		<_JVOHeight> <copy src="JVO" trait="_JVOHeight"/> </_JVOHeight>
		<_JVOFontY> <copy src="JVO" trait="_JVOFontY"/> </_JVOFontY>
		<_JVORadiusMax>
			<copy src="JVO" trait="_JVORadiusMax"/> 
			<mul src="JVO" trait="_JVORadiusMax"/> 
		</_JVORadiusMax>
		<_JVOOffsetWidth> <copy src="JVO" trait="_JVOOffsetWidth"/> </_JVOOffsetWidth>
		<_JVOOffsetHeight> <copy src="JVO" trait="_JVOOffsetHeight"/> </_JVOOffsetHeight>
		<_JVOText>Location Name</_JVOText>
		<_JVODistance>Distance</_JVODistance>
		<_JVOOffsetMarker> <copy src="JVO" trait="_JVOOffsetMarker"/> </_JVOOffsetMarker>
		<_JVOOffsetText> <copy src="JVO" trait="_JVOOffsetText"/> </_JVOOffsetText>
		<_X> -1 </_X>
		<_Y> -1 </_Y>
		<_JVOFilename_0> Interface\JVO\JVOClassic.dds </_JVOFilename_0>
		<_JVOFilename_1> Interface\JVO\JVOClassicAlt.dds </_JVOFilename_1>
		<_JVOAltMarker> 0 </_JVOAltMarker>
		<_JVOFilename> 
			<copy src="me()" trait="_JVOAltMarker"/>
			<copy src="me()" trait="_JVOFilename_"/>
		</_JVOFilename>
		<x>
			<copy src="me()" trait="_X"/>
			<min> 
				<copy> 1 </copy>
				<sub src="me()" trait="_JVOOffsetWidth"/>
			</min>
			<max src="me()" trait="_JVOOffsetWidth"/>
			<mul src="screen()" trait="width"/>
		</x>
		<y>
			<copy src="me()" trait="_Y"/>
			<min> 
				<copy> 1 </copy>
				<sub src="me()" trait="_JVOOffsetHeight"/>
			</min>
			<max src="me()" trait="_JVOOffsetHeight"/>
			<mul src="screen()" trait="height"/>
			<add src="me()" trait="_JVOOffsetMarker"/>
		</y>

		<_XDelta>
			<copy src="me()" trait="_X"/>
			<sub> 0.5 </sub>
			<mul src="screen()" trait="width"/>
			<div src="screen()" trait="height"/>
		</_XDelta>
					
		<_YDelta>
			<copy src="me()" trait="_Y"/>
			<sub> 0.5 </sub>
		</_YDelta>

		<_JVORadius>
			<copy>
				<copy src="me()" trait="_XDelta"/>
				<mul src="me()" trait="_XDelta"/>
			</copy>
			<add>
				<copy src="me()" trait="_YDelta"/>
				<mul src="me()" trait="_YDelta"/>
			</add>
		</_JVORadius>

		<_JVOInFocus>
			<copy src="me()" trait="_JVORadius"/>
			<lte src="me()" trait="_JVORadiusMax"/>
		</_JVOInFocus>
		
		<systemcolor> 
			<copy> 0 </copy>
			<add>
				<copy> &hudmain; </copy>
				<onlyifnot> <copy src="me()" trait="_JVOHostile"/> </onlyifnot>
			</add>
			<add>
				<copy> &hudalt; </copy>
				<onlyif> <copy src="me()" trait="_JVOHostile"/> </onlyif>
			</add>
		</systemcolor>
		
		<alpha>
			<copy src="JVO" trait="_JVOAlpha"/>
			<mul> 
				<copy> 1 </copy>
				<onlyif src="me()" trait="_JVOInFocus"/>
				<add>
					<copy src="JVO" trait="_JVOAlphaMult"/>
					<onlyifnot src="me()" trait="_JVOInFocus"/>
				</add>
			</mul>
		</alpha>

		<red> <copy src="JVO" trait="red"/> </red>
		<green> <copy src="JVO" trait="green"/> </green>
		<blue> <copy src="JVO" trait="blue"/> </blue>

		<locus> &true; </locus>
		
		<_JVODepthBase> -20 </_JVODepthBase>
		<_JVODepth> 0 </_JVODepth>
		<depth>
			<copy src="me()" trait="_JVODepthBase"/>
			<add src="me()" trait="_JVODepth"/>
		</depth>

		<image name="JVOImage">
			<filename> <copy src="parent()" trait="_JVOFilename"/> </filename>
			<x>		
				<copy src="me()" trait="width"/>
				<div> -2 </div>
			</x>
			<y>
				<copy src="me()" trait="height"/>
				<div> -1 </div>
			</y>
			<depth> <copy src="parent()" trait="depth"/> <sub> 1 </sub> </depth>
			<width> <copy src="parent()" trait="_JVOWidth"/> </width>
			<height> <copy src="parent()" trait="_JVOHeight"/> </height>
			<rotateangle> 3.141593 </rotateangle>
			<Rotateaxisx>
				<copy src="me()" trait="width"/>
				<div> 2 </div>
			</Rotateaxisx> 
			<Rotateaxisy>
				<copy src="me()" trait="height"/>
				<div> 2 </div>
			</Rotateaxisy>
			<zoom> &scale; </zoom>
			<alpha> <copy src="parent()" trait="alpha"/> </alpha>
			<systemcolor> <copy src="parent()" trait="systemcolor"/> </systemcolor>
			<red> <copy src="parent()" trait="red"/> </red>
			<green> <copy src="parent()" trait="green"/> </green>
			<blue> <copy src="parent()" trait="blue"/> </blue>
		</image>
		
		<text name="JVODistance">
			<visible>
				<copy src="parent()" trait="_JVOInFocus"/>
				<add src="parent()" trait="_JVODistanceVisible"/>
				<sub src="JVO" trait="_JVOInCombat"/>
				<gte> 2 </gte>
			</visible>
			<depth> <copy src="parent()" trait="depth"/> <sub> 2 </sub> </depth>
			<string> <copy src="parent()" trait="_JVODistance"/> </string>
			<font> <copy src="parent()" trait="_JVOFont"/> </font>
			<justify> &center; </justify>
			<clips> <copy src="parent()" trait="clips"/> </clips>
			<systemcolor> <copy src="parent()" trait="systemcolor"/> </systemcolor>
			<x>
				<copy> 0 </copy>
				<add>
					<copy src="me()" trait="width"/>
					<div> 2 </div>
					<sub src="parent()" trait="x"/>
					<max> 0 </max>
				</add>
				<sub>
					<copy src="me()" trait="width"/>
					<div> 2 </div>
					<sub src="screen()" trait="width"/>
					<add src="parent()" trait="x"/>
					<max> 0 </max>				
				</sub>
			</x>
			<y>
				<copy src="parent()" trait="_JVOOffsetText"/>
				<sub>
					<copy src="me()" trait="height"/>
					<onlyif src="me()" trait="visible"/>
				</sub>
				<sub src="sibling(JVOImage)" trait="height"/>
				<add src="parent()" trait="_JVOFontY"/>
			</y>
			<alpha> <copy src="parent()" trait="alpha"/> </alpha>
			<systemcolor> <copy src="parent()" trait="systemcolor"/> </systemcolor>
			<red> <copy src="parent()" trait="red"/> </red>
			<green> <copy src="parent()" trait="green"/> </green>
			<blue> <copy src="parent()" trait="blue"/> </blue>
		</text>
		
		<text name="JVOText">
			<visible>
				<copy src="parent()" trait="_JVOInFocus"/>
				<add src="parent()" trait="_JVOTextVisible"/>
				<sub src="JVO" trait="_JVOInCombat"/>
				<gte> 2 </gte>
			</visible>
			<depth> <copy src="parent()" trait="depth"/> <sub> 3 </sub> </depth>
			<string> <copy src="parent()" trait="_JVOText"/> </string>
			<font> <copy src="parent()" trait="_JVOFont"/> </font>
			<justify> &center; </justify>
			<clips> <copy src="parent()" trait="clips"/> </clips>
			<systemcolor> <copy src="parent()" trait="systemcolor"/> </systemcolor>
			<wrapwidth> 300	</wrapwidth>
			<x>
				<copy> 0 </copy>
				<add>
					<copy src="me()" trait="width"/>
					<div> 2 </div>
					<sub src="parent()" trait="x"/>
					<max> 0 </max>
				</add>
				<sub>
					<copy src="me()" trait="width"/>
					<div> 2 </div>
					<sub src="screen()" trait="width"/>
					<add src="parent()" trait="x"/>
					<max> 0 </max>				
				</sub>
			</x>
			<y>
				<copy src="parent()" trait="_JVOOffsetText"/>
				<sub>
					<copy src="sibling(JVODistance)" trait="height"/>
					<onlyif src="sibling(JVODistance)" trait="visible"/>
				</sub>
				<sub>
					<copy src="me()" trait="height"/>
					<onlyif src="me()" trait="visible"/>
				</sub>
				<sub src="sibling(JVOImage)" trait="height"/>
				<add src="parent()" trait="_JVOFontY"/>
			</y>
			<alpha> <copy src="parent()" trait="alpha"/> </alpha>
			<systemcolor> <copy src="parent()" trait="systemcolor"/> </systemcolor>
			<red> <copy src="parent()" trait="red"/> </red>
			<green> <copy src="parent()" trait="green"/> </green>
			<blue> <copy src="parent()" trait="blue"/> </blue>
		</text>
	</rect>
</template>